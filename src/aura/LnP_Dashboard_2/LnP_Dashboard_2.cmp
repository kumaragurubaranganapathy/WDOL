<!--@AUTHOR: Pramod Kumar
   @Date: 28-May-2019
   
   Description: Lightning component created for professional DashBoard Page. 
   
   MODIFICATION LOG:
   DEVELOPER                          DATE                     DESCRIPTION
   ================================================================================
   Sanghmitra Sahu/Tuhin Mazumder     14-Sep-2018             Initial Creation
   ================================================================================= -->

<aura:component implements="forceCommunity:availableForAllPageTypes,lightning:isUrlAddressable"
                controller="LnP_DashboardApexController_2" access="global">
    
    <aura:attribute name="widgetArray" type="List" />
    <aura:attribute name="application" type="List" />
    <aura:attribute name="applicationToIterate" type="List" description="Duplicate of application list for having view more option"
                    />
    <aura:attribute name="viewMoreApplicationBoolean" type="Boolean" default="false"
                    />
    <aura:attribute name="licenses" type="List" />
    <aura:attribute name="licensesToIterate" type="List" description="Duplicate of licenses list for having view more option"
                    />
    <aura:attribute name="BusinessLicenseToIterate" type="List" />
    <aura:attribute name="viewMoreLicensesBoolean" type="Boolean" default="false" />
    <aura:attribute name="bottomCardListHeader" type="List" />
    <aura:attribute name="BusinessLicense" type="List" />
    <aura:attribute name="viewMoreBusinessLicensesBoolean" type="Boolean" default="false"
                    />
    <aura:attribute name="submission_id" type="Id" />
    
    <aura:attribute name="uploadattachements" type="Aura.Component[]" />
    
    <aura:attribute name="CurrentLicenseTableColumnsList" type="List" />
    <aura:attribute name="CurrentLicenseTableDataList" type="List" />
    
    <aura:attribute name="DraftNewLicenseApplicationsColumnList" type="List" />
    <aura:attribute name="DraftNewLicenseApplicationsDataList" type="List" />
    
    <aura:attribute name="DraftRenewApplicationsColumnList" type="List" />
    <aura:attribute name="DraftRenewApplicationsDataList" type="List" />
    
    <aura:attribute name="DraftMaintananceRequestApplicationsColumnList" type="List"
                    />
    <aura:attribute name="DraftMaintananceRequestApplicationsDataList" type="List" />
    
    <aura:attribute name="DraftAMRColumnList" type="List" />
    <aura:attribute name="DraftAMRDataList" type="List" />
    
    <aura:attribute name="PendingNewLicenseApplicationsColumnList" type="List" />
    <aura:attribute name="PendingNewLicenseApplicationsDataList" type="List" />
    
    <aura:attribute name="PendingRenewApplicationsColumnList" type="List" />
    <aura:attribute name="PendingRenewApplicationsDataList" type="List" />
    
    <aura:attribute name="PendingMaintananceRequestApplicationsColumnList" type="List"
                    />
    <aura:attribute name="PendingMaintananceRequestApplicationsDataList" type="List"
                    />
    
    <aura:attribute name="CompletedMaintananceRequestApplicationsColumnList" type="List"
                    />
    <aura:attribute name="CompletedMaintananceRequestApplicationsDataList" type="List"
                    />
    
    <aura:attribute name="ProfessionalRelationshipColumnList" type="List" />
    <aura:attribute name="ProfessionalRelationshipDataList" type="List" />
    
    <aura:attribute name="PeerRelationTableColumnsList" type="List" />
    <aura:attribute name="PeerRelationTableDataList" type="List" />
    <aura:attribute name="IsCurrentLicenseParent" type="Boolean" />
    <aura:attribute name="hasActiveSupervisorEndorsement" type="Boolean" />
    
    <aura:attribute name="BusinessLicenseTableColumnsList" type="List" />
    <aura:attribute name="BusinessLicenseTableDataList" type="List" />
    
    <aura:attribute name="portalURL" type="String" default="{!$Label.c.Polaris_Portal_Home}"
                    />
    
    <aura:attribute name="DisplayDashboardHeader" type="Boolean" default="true" />
    <aura:attribute name="DisplayDashboardTabs" type="Boolean" default="true" />
    <aura:attribute name="DisplaylicenseNumberBreadCrumb" type="Boolean" default="false"
                    />
    <aura:attribute name="DisplayLicense_Details" type="Boolean" default="false" />
    <aura:attribute name="displayAssociationForm" type="Boolean" default="false" />
    <aura:attribute name="DisplayUploadDocumentsBreadCrumb" type="Boolean" default="false"
                    />
    <aura:attribute name="DisplayLicense_Upload_documents" type="Boolean" default="false"
                    />
    <aura:attribute name="DisplayAdditonalQulaificationsBreadCrumb" type="Boolean" default="false"
                    />
    <aura:attribute name="DisplayLicense_Additional_Qualification" type="Boolean" default="false"
                    />
    <aura:attribute name="isAuthenticatedUser" type="Boolean" default="true" />
    <aura:attribute name="dsiplaySpinner" type="Boolean" default="false" />
    <aura:attribute name="displayPendingLicense_Details" type="Boolean" default="false"
                    />
    <aura:attribute name="displayRemoveAccountContactModal" type="Boolean" default="false"
                    />
    <aura:attribute name="displayRemovePeerRelationShipModal" type="Boolean" default="false"
                    />
    <aura:attribute name="PeerRelationShipModalAction" type="String"
                    />                
    <aura:attribute name="displayRemoveBusinessRelationShipModal" type="Boolean" default="false"
                    />
    <aura:attribute name="BusinessRelationShipModalAction" type="Boolean" default="false"
                    />                    
                    
    <aura:attribute name= "associationModalMessage" type = "String"/> 
    
    <aura:attribute name="Lincese_Details_LastDate" type="String" />
    <aura:attribute name="LicenseNumberBreadCrumb" type="String" />
    <aura:attribute name="detailLicenseData" type="List" />
    <aura:attribute name="endorsementData" type="String[]" />
    <aura:attribute name="licenseRelationData" type="List" />
    <aura:attribute name="parent" type="Boolean" default="false" />
    <aura:attribute name="Contact_id" type="String" />
    <aura:attribute name="setAssociationRecordTypeId" type="String" />
    <aura:attribute name="removeAccountContactRelationId" type="String" />
    <aura:attribute name="removeAssociationtRelationId" type="String" />
    <aura:attribute name="pendingLicenseId" type="Id" />
    <aura:attribute name="relatedSobjectName" type="String" />
    <aura:attribute name="sendData" type="object" />
    <aura:attribute name="loadingSpinner" type="Boolean" default="true" />
    <aura:attribute name="helptextcontent" type="String" />
    <aura:attribute name="helptextmap" type="Map" />
    <aura:attribute name="applicationFilt" type="List" />
    
    <aura:attribute name="licensePaginationList" type="List" />
    <aura:attribute name="relationPaginationList" type="List" />
    <aura:attribute name="pendingRenewPaginationList" type="List" />
    <aura:attribute name="pendingMaintainPaginationList" type="List" />
    <aura:attribute name="draftNewPaginationList" type="List" />
    <aura:attribute name="draftRenewPaginationList" type="List" />
    <aura:attribute name="draftMaintainPaginationList" type="List" />
    <aura:attribute name="pendingNewPaginationList" type="List" />
    <aura:attribute name="completeRequestPaginationList" type="List" />
    <aura:attribute name="peerLicensePaginationData" type="List" />
    <aura:attribute name="bizLicensePaginationData" type="List" />
    <aura:attribute name="ServiceLink" type="List" />
    <aura:attribute name="DraftAMRDataPaginationList" type="List" />
    <aura:attribute name="showMoreAMR" type="Boolean" default="false" />
    <aura:attribute name="pendingApp" type="Boolean" default="false" />
    <aura:attribute name="defaultTab" type="String" default="ProfessionalLicensesTab" />
    <aura:handler name="init" value="{!this}" action="{!c.doInit}" />
    
    
    <aura:if isTrue="{!v.loadingSpinner}">
        <lightning:spinner aura:id="spinner" alternativeText="Page is loading..." />
    </aura:if>
    <div aura:id="body" class="dashboard-wrapper">
        <h1 class="screen-title">
            Professional Licenses
        </h1>
        <!-- <nav role="navigation" aria-label="Breadcrumbs" class="{!v.DisplaylicenseNumberBreadCrumb?'breadcrumb-nav':'slds-hide'}">
            <ol class="slds-breadcrumb slds-list_horizontal slds-wrap">
                <li class="slds-breadcrumb__item slds-var-p-right_xx-small">
                    <a href="javascript:void(0);" class="{!v.DisplayLicense_Details?'breadcrumb-style':'slds-hide'}"
                       onclick="{!c.handleProfessionalBreadCrumb}">Individual Account</a>
                </li>
                
                <aura:if isTrue="{!v.DisplaylicenseNumberBreadCrumb}">
                    <li class="slds-breadcrumb__item breadcrumb-style slds-var-p-left_small">
                        <span>{!v.LicenseNumberBreadCrumb}</span>
                    </li>
                </aura:if>
                <aura:if isTrue="{!v.DisplayUploadDocumentsBreadCrumb}">
                    <li class="slds-breadcrumb__item breadcrumb-style slds-var-p-left_small">
                        <span>attachments</span>
                    </li>
                </aura:if>
                <aura:if isTrue="{!v.DisplayAdditonalQulaificationsBreadCrumb}">
                    <li class="slds-breadcrumb__item breadcrumb-style slds-var-p-left_small">
                        <span>qualifying information</span>
                    </li>
                </aura:if>
                
            </ol>
        </nav> -->
        
        <c:LnP_ServerActionService aura:id="server" />
        
        <aura:if isTrue="{!v.DisplayDashboardHeader}">
            <div id="LnP_Dashboard_2_HeaderCompId" class="header-wrapper">
                
                <c:LnP_Dashboard_2_Header/>
                
            </div>
        </aura:if>
        
        <aura:if isTrue="{!v.DisplayLicense_Details}">
            <div id="detailLicenseDataid" class="license-details-wrapper">
                <div>
                    <div class="{!empty(v.ServiceLink)?'slds-hide':'actions-wrapper slds-hide_medium'}">                        
                        <a class="action-link" href="javascript:void(0)" onclick="{!c.showMore}">{!v.showMoreAMR?'Hide actions':'Actions'}</a>
                    </div>
                    <lightning:layout class="slds-wrap amr-wrapper">
                        <lightning:layoutItem size="12" mediumDeviceSize="{!empty(v.ServiceLink)?'12':'9'}">
                            <aura:iteration items="{!v.detailLicenseData}" var="item">
                                <div class="card table-border">
                                    <lightning:layout class="slds-wrap lic-details-wrapper bottom-border header-details">
                                        <lightning:layoutItem size="12" mediumDeviceSize="4" class="field-style row-margin">
                                            <div class="label-style text-style slds-truncate" title="{!v.pendingApp?'Application Number:':'License Number:'}">{!v.pendingApp?'Application Number:':'License Number:'}</div>
                                            <div class="data-style slds-truncate" title="{!item.Name}">{!item.Name}</div>
                                        </lightning:layoutItem>
                                        <lightning:layoutItem size="12" mediumDeviceSize="4" class="field-style row-margin">
                                            <div class="label-style text-style slds-truncate" title="License Type:">License Type: </div>
                                            <div class="data-style slds-truncate" title="{!item.Credential_Type__c}">{!item.Credential_Type__c}</div>
                                        </lightning:layoutItem>
                                        <lightning:layoutItem size="12" mediumDeviceSize="4" class="field-style row-margin">
                                            <div class="label-style text-style slds-truncate" title="Status:">Status: </div>
                                            <aura:if isTrue="{!item.MUSW__Status__c}">
                                                <div class="data-style slds-truncate" title="{!item.MUSW__Status__c}">{!item.MUSW__Status__c}</div>
                                                <aura:set attribute="else">
                                                    <div class="data-style slds-truncate" title="None">None</div>
                                                </aura:set>
                                            </aura:if>
                                        </lightning:layoutItem>
                                    </lightning:layout>
                                    <lightning:layout class="slds-wrap lic-details-wrapper">
                                        <lightning:layoutItem class="field-style lic-details" size="12" mediumDeviceSize="4">
                                            <div class="label-style">Name: </div>
                                            <div class="data-style">{!item.MUSW__Applicant__r.Name}</div>
                                        </lightning:layoutItem>
                                        <lightning:layoutItem class="field-style lic-details" size="12" mediumDeviceSize="4">
                                            <div class="label-style">First Issue Date: </div>
                                            <aura:if isTrue="{!item.Original_Issue_Date__c}">
                                                <div class="data-style">
                                                    <lightning:formattedDateTime value="{!item.Original_Issue_Date__c}"
                                                                                 />
                                                </div>
                                                <aura:set attribute="else">
                                                    <div class="data-style">None</div>
                                                </aura:set>
                                            </aura:if>
                                        </lightning:layoutItem>
                                        <lightning:layoutItem class="field-style lic-details" size="12" mediumDeviceSize="4">
                                            <div class="label-style">Sub-status: </div>
                                            <aura:if isTrue="{!item.Sub_Status__c}">
                                                <div class="data-style">{!item.Sub_Status__c}</div>
                                                <aura:set attribute="else">
                                                    <div class="data-style">None</div>
                                                </aura:set>
                                            </aura:if>
                                        </lightning:layoutItem>
                                        <!--lightning:layoutItem class="field-style lic-details" size="12" mediumDeviceSize="4">
                                            <div class="label-style">City: </div>
                                            <aura:if isTrue="{!item.LnP_Parcels__r.records[0].City__c}">
                                                <div class="data-style">{!item.LnP_Parcels__r.records[0].City__c}</div>
                                                <aura:set attribute="else">
                                                    <div class="data-style">None</div>
                                                </aura:set>
                                            </aura:if>
                                        </lightning:layoutItem-->
                                        <lightning:layoutItem class="field-style lic-details" size="12" mediumDeviceSize="4">
                                            <div class="label-style">Current Issue Date: </div>
                                            <aura:if isTrue="{!item.MUSW__Issue_Date__c}">
                                                <div class="data-style">
                                                    <lightning:formattedDateTime value="{!item.MUSW__Issue_Date__c}"
                                                                                 />
                                                </div>
                                                <aura:set attribute="else">
                                                    <div class="data-style">None</div>
                                                </aura:set>
                                            </aura:if>
                                        </lightning:layoutItem>
                                        <!--lightning:layoutItem class="field-style lic-details" size="12" mediumDeviceSize="4">
                                            <div class="label-style">State: </div>
                                            <aura:if isTrue="{!item.LnP_Parcels__r.records[0].State_Province__c}">
                                                <div class="data-style">{!item.LnP_Parcels__r.records[0].State_Province__c}</div>
                                                <aura:set attribute="else">
                                                    <div class="data-style">None</div>
                                                </aura:set>
                                            </aura:if>
                                        </lightning:layoutItem-->
                                        <lightning:layoutItem class="field-style lic-details" size="12" mediumDeviceSize="4">
                                            <div class="label-style">Expiration Date: </div>
                                            <aura:if isTrue="{!item.MUSW__Expiration_Date__c}">
                                                <div class="data-style">
                                                    <lightning:formattedDateTime value="{!item.MUSW__Expiration_Date__c}"
                                                                                 />
                                                </div>
                                                <aura:set attribute="else">
                                                    <div class="data-style">None</div>
                                                </aura:set>
                                            </aura:if>
                                        </lightning:layoutItem>
										<lightning:layoutItem class="field-style lic-details" size="12" mediumDeviceSize="4">
                                            <div class="label-style">Bad Payment: </div>
                                            <aura:if isTrue="{!item.Polaris_DHP__c}">
                                                <div class="data-style">
                                                    <lightning:input type="checkbox" name="input3" checked="{!item.Polaris_DHP__c}" disabled="true"/>
                                                </div>
                                                <aura:set attribute="else">
                                                    <div class="data-style">None</div>
                                                </aura:set>
                                            </aura:if>
										</lightning:layoutItem>
                                        <!--lightning:layoutItem class="field-style lic-details" size="12" mediumDeviceSize="4">
                                            <div class="label-style">Program: </div>
                                            <aura:if isTrue="{!item.Application_Type__c}">
                                                <div class="data-style">{!item.Application_Type__c}</div>
                                                <aura:set attribute="else">
                                                    <div class="data-style">None</div>
                                                </aura:set>
                                            </aura:if>
                                        </lightning:layoutItem>
                                        <lightning:layoutItem class="field-style lic-details" size="12" mediumDeviceSize="4">
                                            <div class="label-style">Country: </div>
                                            <aura:if isTrue="{!item.LnP_Parcels__r.records[0].Country__c}">
                                                <div class="data-style">{!item.LnP_Parcels__r.records[0].Country__c}</div>
                                                <aura:set attribute="else">
                                                    <div class="data-style">None</div>
                                                </aura:set>
                                            </aura:if>
                                        </lightning:layoutItem-->
                                    </lightning:layout>
                                    <aura:if isTrue="{!v.endorsementData.length != 0}">
                                        <div class="">
                                            <div class="section-name bottom-border slds-p-bottom_x-small slds-m-horizontal_small">Endorsements</div>
                                            <div class="section-content slds-p-around_small">
                                                <aura:iteration items="{!v.endorsementData}" var="item">
                                                    <div class="section-list">{!item}</div>
                                                </aura:iteration>
                                            </div>
                                        </div>
                                    </aura:if>
                                </div>
                            </aura:iteration>
                        </lightning:layoutItem>
                        <lightning:layoutItem size="12" mediumDeviceSize="3" class="{!empty(v.ServiceLink)?'slds-hide':(v.showMoreAMR?'amr-links exp-actions':'amr-links slds-show_medium')}">
                            <c:Polaris_AMRLink board="{!v.detailLicenseData[0].Application_Type__c}" licenseType="{!v.detailLicenseData[0].Credential_Type__c}"
                                               applicationMethod="{!v.detailLicenseData[0].Application_Method__c}"
                                               recordId="{!v.detailLicenseData[0].Id}" ServiceLink="{!v.ServiceLink}"
                                               />
                        </lightning:layoutItem>
                    </lightning:layout>
                </div>
                <br/><br/>
                <div>
                    <aura:if isTrue="{!v.PeerRelationTableDataList.length != 0 || v.BusinessLicenseTableDataList.length != 0 || v.IsCurrentLicenseParent}">
                        
                        <div class="section-name bottom-border slds-p-bottom_x-small">Relationships</div>
                        <aura:if isTrue="{!and(v.IsCurrentLicenseParent,v.hasActiveSupervisorEndorsement)}">
                            <div class="add-licensee slds-p-vertical_small">
                                <lightning:button variant="brand" label="Add Licensee" title="Add Licensee" onclick="{!c.openAssociationForm}"
                                                  />
                            </div>
                        </aura:if>
                        <div class="{!or(v.PeerRelationTableDataList.length != 0,v.BusinessLicenseTableDataList.length != 0)?'section-content slds-p-around_small':'slds-hide'}">
                            <aura:if isTrue="{!v.PeerRelationTableDataList.length != 0}">
                                <aura:if isTrue="{!v.displayRemovePeerRelationShipModal}">
                                    <div style="height:640px">
                                        <section role="dialog" tabindex="-1" aria-label="Meaningful description of the modal content"
                                                 aria-modal="true" aria-describedby="modal-content-id-1"
                                                 class="slds-modal slds-fade-in-open">
                                            <div class="slds-modal__container">
                                                <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                                                    {!v.associationModalMessage}
                                                </div>
                                                <footer class="slds-modal__footer">
                                                    <button class="slds-button slds-button_neutral" onclick="{!c.closedisplayRemovePeerRelationShipModal}">Back</button>
                                                    <button data-id="{!v.removeAssociationtRelationId}" class="slds-button slds-button_brand"
                                                            onclick="{!c.removeAssociationRelation}">OK</button>
                                                </footer>
                                            </div>
                                        </section>
                                        <div class="slds-backdrop slds-backdrop_open"></div>
                                    </div>
                                </aura:if>
                                <div class="">
                                    <div class="table-name">Peer Licenses</div>
                                    <div class="table-height slds-p-vertical_small">
                                        <div>
                                            <div class="table-scroll">
                                                
                                                <table class="slds-table slds-table_cell-buffer slds-max-medium-table_stacked slds-table_bordered">
                                                    <thead>
                                                        <tr class="slds-line-height_reset">
                                                            <aura:iteration items="{!v.PeerRelationTableColumnsList}" var="headerData">
                                                                <th class="" scope="col">
                                                                    <div class="slds-truncate header-style" title="{!headerData}">{!headerData}</div>
                                                                </th>
                                                            </aura:iteration>
                                                            <th class="" scope="col">
                                                                <div class="slds-truncate" title="action">Action</div>
                                                            </th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <aura:iteration items="{!v.peerLicensePaginationData}" var="tableData" indexVar="ind">
                                                            <tr class="slds-hint-parent">
                                                                <td data-label="License number" class="cell-style">
                                                                    <div class="slds-truncate" title="{!v.IsCurrentLicenseParent?tableData.Child_License__r.Name:tableData.Parent_License__r.Name}">
                                                                        <aura:if isTrue="{!v.IsCurrentLicenseParent}">
                                                                            {!tableData.Child_License__r.Name}
                                                                            <aura:set attribute="else">
                                                                                {!tableData.Parent_License__r.Name}
                                                                            </aura:set>
                                                                        </aura:if>
                                                                    </div>
                                                                </td>
                                                                <td data-label="Name" class="cell-style">
                                                                    <div class="slds-truncate" title="{!v.IsCurrentLicenseParent?tableData.Child_License__r.Applicant_Full_Name__c:tableData.Parent_License__r.Applicant_Full_Name__c}">
                                                                        <aura:if isTrue="{!v.IsCurrentLicenseParent}">
                                                                            {!tableData.Child_License__r.Applicant_Full_Name__c}
                                                                            <aura:set attribute="else">
                                                                                {!tableData.Parent_License__r.Applicant_Full_Name__c}
                                                                            </aura:set>
                                                                        </aura:if>
                                                                    </div>
                                                                </td>                                            
                                                                <td data-label="License type" class="cell-style">
                                                                    <div class="slds-truncate" title="{!v.IsCurrentLicenseParent?tableData.Child_License__r.Credential_Type__c:tableData.Parent_License__r.Credential_Type__c}">
                                                                        <aura:if isTrue="{!v.IsCurrentLicenseParent}">
                                                                            {!tableData.Child_License__r.Credential_Type__c}
                                                                            <aura:set attribute="else">
                                                                                {!tableData.Parent_License__r.Credential_Type__c} 
                                                                            </aura:set>
                                                                        </aura:if>
                                                                    </div>
                                                                </td>
                                                                <td data-label="License Status" class="cell-style">
                                                                    <div class="slds-truncate" title="{!v.IsCurrentLicenseParent?tableData.Child_License__r.MUSW__Status__c:tableData.Parent_License__r.MUSW__Status__c}">
                                                                        <aura:if isTrue="{!v.IsCurrentLicenseParent}">
                                                                            {!tableData.Child_License__r.MUSW__Status__c} 
                                                                            <aura:set attribute="else">
                                                                                {!tableData.Parent_License__r.MUSW__Status__c} 
                                                                            </aura:set>
                                                                        </aura:if>
                                                                    </div>
                                                                </td>
                                                                <td data-label="Association Type" class="cell-style">
                                                                    <div class="slds-truncate" title="{!tableData.Association_Type__c}">
                                                                        <aura:if isTrue="{!v.IsCurrentLicenseParent}">
                                                                            {!tableData.Association_Type__c} 
                                                                            <aura:set attribute="else">
                                                                                {!tableData.Association_Type__c} 
                                                                            </aura:set>
                                                                        </aura:if>
                                                                    </div>
                                                                </td> 
                                                                <td data-label="Invitation status" class="cell-style">
                                                                    <div class="slds-truncate" title="{!tableData.Status__c}">
                                                                        <aura:if isTrue="{!v.IsCurrentLicenseParent}">
                                                                            {!tableData.Status__c} 
                                                                            <aura:set attribute="else">
                                                                                {!tableData.Status__c} 
                                                                            </aura:set>
                                                                        </aura:if>
                                                                    </div>
                                                                </td>
                                                                <td data-label="Actions" class="cell-style action-cell">
																	<div class="slds-truncate">
                                                                        <aura:if isTrue="{!tableData.Status__c == 'Active'}">
                                                                            
                                                                            <a data-index="{!ind}" data-id="{!tableData.Id}" data-action = "Separate" href="javascript:void(0)" class="slds-button_brand"
                                                                               onclick="{!c.opendisplayRemovePeerRelationShipModal}">Separate</a>
                                                                            
                                                                        </aura:if>
                                                                        <aura:if isTrue="{!tableData.Status__c == 'Invited'}">
                                                                            
                                                                            <a data-index="{!ind}" data-id="{!tableData.Id}" data-action = "Cancel" href="javascript:void(0)" class="slds-button_brand"
                                                                               onclick="{!c.opendisplayRemovePeerRelationShipModal}">Cancel</a>
                                                                            
                                                                        </aura:if>
                                                                    <aura:if isTrue="{!tableData.Status__c == 'No Response'}">
                                                                        
                                                                        <a data-index="{!ind}" data-id="{!tableData.Id}" data-action = "remove" href="javascript:void(0)" class="slds-button_brand"
                                                                           onclick="{!c.opendisplayRemovePeerRelationShipModal}">remove</a>
                                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                                                                        <a data-index="{!ind}" data-id="{!tableData.Id}" data-action = "resend" href="javascript:void(0)" class="slds-button_brand"
                                                                           onclick="{!c.opendisplayRemovePeerRelationShipModal}">resend</a>
                                                                    </aura:if>                                                                          
                                                                        
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                        </aura:iteration>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="pagination-wrapper">
                                        <c:LnP_Pagination pgSize="4" fullList="{!v.PeerRelationTableDataList}" dispList="{!v.peerLicensePaginationData}"
                                                          />
                                        
                                    </div>
                                </div>
                            </aura:if>
                            <aura:if isTrue="{!v.BusinessLicenseTableDataList.length != 0}">
                                <aura:if isTrue="{!v.displayRemoveBusinessRelationShipModal}">
                                    <div style="height:640px">
                                        <section role="dialog" tabindex="-1" aria-label="Meaningful description of the modal content"
                                                 aria-modal="true" aria-describedby="modal-content-id-1"
                                                 class="slds-modal slds-fade-in-open">
                                            <div class="slds-modal__container">
                                                <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                                                    {!v.associationModalMessage}
                                                </div>
                                                <footer class="slds-modal__footer">
                                                    <button class="slds-button slds-button_neutral" onclick="{!c.closedisplayRemoveBusinessRelationShipModal}">Back</button>
                                                    <button data-id="{!v.removeAssociationtRelationId}" class="slds-button slds-button_brand"
                                                            onclick="{!c.removeAssociationRelation}">OK</button>
                                                </footer>
                                            </div>
                                        </section>
                                        <div class="slds-backdrop slds-backdrop_open"></div>
                                    </div>
                                </aura:if>
                                <div class="slds-p-vertical_large">
                                    <div class="table-name">Business Relationships</div>
                                    <div class="table-height slds-p-vertical_small">
                                        
                                        <div class="table-scroll">
                                            
                                            <table class="slds-table slds-table_cell-buffer slds-max-medium-table_stacked slds-table_bordered">
                                                <thead>
                                                    <tr class="slds-line-height_reset">
                                                        <aura:iteration items="{!v.BusinessLicenseTableColumnsList}" var="headerData">
                                                            <th class="" scope="col">
                                                                <div class="slds-truncate header-style" title="{!headerData}">{!headerData}</div>
                                                            </th>
                                                        </aura:iteration>
                                                        <th class="" scope="col">
                                                            <div class="slds-truncate" title="actionSeperate">Action</div>
                                                        </th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <aura:iteration items="{!v.bizLicensePaginationData}" var="tableData" indexVar="ind">
                                                        <tr class="slds-hint-parent">
                                                            <td data-label="Name" class="cell-style">
                                                                <div class="slds-truncate" title="{!tableData.Parent_License__r.MUSW__Primary_Licensee__r.Name}">{!tableData.Parent_License__r.MUSW__Primary_Licensee__r.Name}</div>
                                                            </td>
                                                            <td data-label="Role" class="cell-style">
                                                                <div class="slds-truncate" title="{!tableData.Association_Type__c}">{!tableData.Association_Type__c}</div>
                                                            </td>
                                                            <td data-label="License type" class="cell-style">
                                                                <div class="slds-truncate" title="{!tableData.Parent_License__r.Credential_Type__c}">{!tableData.Parent_License__r.Credential_Type__c}</div>
                                                            </td>
                                                            <td data-label="Phone" class="cell-style">
                                                                <div class="slds-truncate" title="{!tableData.Parent_License__r.MUSW__Primary_Licensee__r.Business_Phone__c}">{!tableData.Parent_License__r.MUSW__Primary_Licensee__r.Business_Phone__c}</div>
                                                            </td>
                                                            <td data-label="Email" class="cell-style">
                                                                <div class="slds-truncate" title="{!tableData.Parent_License__r.MUSW__Primary_Licensee__r.Email__c}">{!tableData.Parent_License__r.MUSW__Primary_Licensee__r.Email__c}</div>
                                                            </td>
                                                            <td data-label="Actions" class="cell-style action-cell">
                                                                <div class="slds-truncate">
                                                                    <aura:if isTrue="{!tableData.Status__c == 'Active'}">
                                                                        <a data-index="{!ind}" data-id="{!tableData.Id}" data-action = "Separate" href="javascript:void(0)" class="slds-button_brand"
                                                                           onclick="{!c.opendisplayRemoveBusinessRelationShipModal}">Separate</a>
                                                                    </aura:if>
                                                                    <aura:if isTrue="{!tableData.Status__c == 'Invited'}">
                                                                        
                                                                        <a data-index="{!ind}" data-id="{!tableData.Id}" data-action = "Cancel" href="javascript:void(0)" class="slds-button_brand"
                                                                           onclick="{!c.opendisplayRemovePeerRelationShipModal}">Cancel</a>
                                                                        
                                                                    </aura:if>
                                                                    <aura:if isTrue="{!tableData.Status__c == 'No Response'}">
                                                                        
                                                                        <a data-index="{!ind}" data-id="{!tableData.Id}" data-action = "remove" href="javascript:void(0)" class="slds-button_brand"
                                                                           onclick="{!c.opendisplayRemovePeerRelationShipModal}">remove</a>
                                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                                                                        <a data-index="{!ind}" data-id="{!tableData.Id}" data-action = "resend" href="javascript:void(0)" class="slds-button_brand"
                                                                           onclick="{!c.opendisplayRemovePeerRelationShipModal}">resend</a>
                                                                    </aura:if>                                                                       
                                                                </div>
                                                            </td>
                                                        </tr>
                                                    </aura:iteration>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="pagination-wrapper">
                                        <c:LnP_Pagination pgSize="4" fullList="{!v.BusinessLicenseTableDataList}" dispList="{!v.bizLicensePaginationData}"
                                                          />
                                        
                                    </div>
                                </div>
                                
                            </aura:if>
                        </div>
                        
                    </aura:if>
                </div>
                <div>
                    <!--<aura:if>-->
                    <lightning:tabset class="tabs-wrapper">
                        <lightning:tab class="tab-style" label="Exam" id="ExamTab_id">
                            <c:LnP_ExamReschedule licenseData="{!v.detailLicenseData}" />
                        </lightning:tab>
                        <!--- To Show AMRs in related List of License Detail Page -->
                        
                        <lightning:tab class="tab-style" label="Draft Applications or Requests" id="DraftApp_id">
                            <aura:if isTrue="{!v.DraftAMRDataList.length != 0}">
                                <div class="slds-p-vertical_large">
                                    
                                    <div class="slds-p-vertical_small table-height">
                                        
                                        <div style="height: 100%; position: relative;">
                                            <div class="table-scroll">
                                                <table class="slds-table slds-table_cell-buffer slds-max-medium-table_stacked slds-table_bordered">
                                                    <thead>
                                                        <tr class="slds-line-height_reset">
                                                            <aura:iteration items="{!v.DraftAMRColumnList}" var="headerData">
                                                                <th class="" scope="col">
                                                                    <div class="slds-truncate header-style" title="{!headerData}">{!headerData}</div>
                                                                </th>
                                                            </aura:iteration>
                                                            <th class="" scope="col">
                                                                <div class="slds-truncate" title="actionedit">Action</div>
                                                            </th>                                                            
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <aura:iteration items="{!v.DraftAMRDataPaginationList}" var="tableData" indexVar="ind">
                                                            <tr class="slds-hint-parent">
                                                                <td data-label="Request ID" class="cell-style">
                                                                    <div class="slds-truncate">{!tableData.Name}</div>
                                                                </td>
                                                                <td data-label="Request type" class="cell-style">
                                                                    <div class="slds-truncate">{!tableData.Service_Request_Type__c}</div>
                                                                </td>
                                                                <td data-label="Request against" class="cell-style">
                                                                    <div class="slds-truncate">{!tableData.License_Type__c}</div>
                                                                </td>
                                                                <td data-label="Status" class="cell-style">
                                                                    <div class="slds-truncate">{!tableData.Status__c}</div>
                                                                </td>
                                                                <td data-label="Last Updated" class="cell-style">
                                                                    <div class="slds-truncate">
                                                                        <ui:outputDateTime
                                                                                           value="{!tableData.LastModifiedDate}"
                                                                                           />
                                                                    </div>
                                                                </td>
                                                                <td data-label="CEAuditInfo" class="cell-style table-btn">
                                                                    <div class="" data-recordId="{!tableData.id}">
                                                                        <aura:if isTrue="{!(tableData.License__r.Selected_for_Audit__c)}">
                                                                            <div class="" onclick="{!c.CEAuditAMR}" data-license="{!tableData.License__c}"
                                                                                 data-recordId="{!tableData.Id}"
                                                                                 data-licenseType="{!tableData.License_Type__c}"
                                                                                 data-isCeAudit="{!tableData.License__r.Selected_for_Audit__c}"
                                                                                 data-board="{!tableData.Profession__c}"
                                                                                 data-requestType="{!tableData.Service_Request_Type__c}">
                                                                                <lightning:button variant="brand" label="CE Audit Information" title="CE Audit Information"
                                                                                                  />
                                                                            </div>
                                                                        </aura:if>
                                                                    </div>
                                                                </td>
                                                                <!-- <td data-label="ActionDelete" class="cell-style action-cell">
                                                                            <div class="slds-truncate"  data-recordId = "{!tableData.id}">
                                                                                <lightning:button label="Delete" title="Neutral action"/>
                                                                            </div>    
                                                                        </td> -->
                                                            </tr>
                                                        </aura:iteration>
                                                    </tbody>
                                                </table>
                                                
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="pagination-wrapper">
                                    <c:LnP_Pagination pgSize="4" fullList="{!v.DraftAMRDataList}" dispList="{!v.DraftAMRDataPaginationList}" />
                                    
                                </div>
                                <aura:set attribute="else">
                                    <div class="slds-align_absolute-center empty-state">
                                        There are no draft applications
                                    </div>
                                </aura:set>
                            </aura:if>
                            
                            
                        </lightning:tab>
                    </lightning:tabset>
                    <!--</aura:if>-->
                    
                </div>
            </div>
            <div class="back-btn-wrapper">
                <lightning:button class="back-btn" label="Back" onclick="{!c.backToDashboard}" />
            </div>
        </aura:if>
        <aura:if isTrue="{!v.displayAssociationForm}">
            <div style="height:640px">
                <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true"
                         aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
                    <div class="slds-modal__container">
                        <header class="slds-modal__header">
                            <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
                                    title="Close" onclick="{!c.closeModalWindow}" data-displayattribute="displayAssociationForm">
                                <lightning:icon iconName="utility:close" alternativeText="Doc image" variant="inverse"/>
                                <span class="slds-assistive-text">Close</span>
                            </button>
                        </header>
                        <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                            <lightning:recordEditForm aura:id="recordEditForm" objectApiName="Associations__c"
                                                      density="Auto" onsuccess="{!c.handleAssociationSubmissionSuccess}"
                                                      onerror="{!c.handleAssociationSubmissionError}" recordTypeId="{!v.setAssociationRecordTypeId}">
                                <lightning:messages />
                                <!--<lightning:inputField fieldName="Name__c" />-->
                                <lightning:inputField fieldName="Association_Type__c" />
                                <lightning:inputField fieldName="Child_License__c" />
                                <lightning:inputField fieldName="Status__c" value="Invited" class="slds-hide" />
                                <lightning:inputField fieldName="Parent_License__c" value="{!v.detailLicenseData[0].Id}"
                                                      />
                                <lightning:button class="slds-m-top_small" type="submit" label="Create Licensee" onclick = "{!c.showSpinner}"
                                                  />
                            </lightning:recordEditForm>
                        </div>
                    </div>
                </section>
                <div class="slds-backdrop slds-backdrop_open"></div>
            </div>
        </aura:if>
        
        <aura:if isTrue="{!v.dsiplaySpinner}">
            <div>
                <lightning:spinner alternativeText="Loading" size="large" />
            </div>
        </aura:if>
        <aura:if isTrue="{!v.DisplayLicense_Upload_documents}">
            <div>
                <lightning:layout>
                    <lightning:layoutItem padding="around-small">
                        <div>
                            <c:LnP_Attachment appID="{!v.submission_id}" labelQuesions="Upload Pending Documents"
                                              allowMultipleFiles="false" />
                        </div>
                    </lightning:layoutItem>
                    <div data-id="{!v.pendingLicenseId}">
                        <lightning:button class="slds-m-top_small" label="Done" onclick="{!c.setLicenseToInReview}"
                                          />
                    </div>
                </lightning:layout>
            </div>
        </aura:if>
        
        <aura:if isTrue="{!v.DisplayLicense_Additional_Qualification}">
            <c:LnP_PendingApplicationForm recordID="{!v.pendingLicenseId}" />
        </aura:if>
        
        <aura:if isTrue="{!v.DisplayDashboardTabs}">
            <lightning:tabset selectedTabId="{!v.defaultTab}" class="tabs-wrapper" onselect="{!c.refreshList}">
                <lightning:tab class="tab-style" label="Licenses" id="ProfessionalLicensesTab">
                    <div>
                        <aura:if isTrue="{!v.CurrentLicenseTableDataList.length != 0}">
                            <div class="table-height">
                                <div style="height: 100%; position: relative;">
                                    <div class="table-scroll">
                                        <table class="slds-table slds-table_cell-buffer slds-max-medium-table_stacked slds-table_bordered">
                                            <thead>
                                                <tr class="slds-line-height_reset">
                                                    <aura:iteration items="{!v.CurrentLicenseTableColumnsList}" var="headerData">
                                                        <th class="" scope="col">
                                                            <div class="slds-truncate header-style" title="{!headerData}">{!headerData}</div>
                                                        </th>
                                                    </aura:iteration>
                                                    <th class="" scope="col">
                                                        <div class="slds-truncate" title="actions">Action</div>
                                                    </th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <aura:iteration items="{!v.licensePaginationList}" var="tableData" indexVar="ind">
                                                    <tr class="slds-hint-parent">
                                                        <td data-label="License#" class="cell-style">
                                                            <div class="slds-truncate" title="{!tableData.Name}">
                                                                <u> <a data-index="{!ind}" data-licenseId="{!tableData.Id}" href="javascript:void(0)" onclick="{!c.dsiplayLicenseDetails}">{!tableData.Name}</a></u>
                                                            </div>
                                                        </td>
                                                        <td data-label="Profession" class="cell-style">
                                                            <div class="slds-truncate" title="{!tableData.Application_Type__c}">{!tableData.Application_Type__c}</div>
                                                        </td>
                                                        <td data-label="License type" class="cell-style">
                                                            <div class="slds-truncate" title="{!tableData.Credential_Type__c}">{!tableData.Credential_Type__c}</div>
                                                        </td>
                                                        <td data-label="Expiration date" class="cell-style">
                                                            <aura:if isTrue="{!tableData.MUSW__Expiration_Date__c}">
                                                                <div class="slds-truncate" title="{!tableData.MUSW__Expiration_Date__c}">
                                                                    <lightning:formattedDateTime
                                                                                                 value="{!tableData.MUSW__Expiration_Date__c}"
                                                                                                 />
                                                                </div>
                                                                <aura:set attribute="else">
                                                                    <div class="slds-truncate">None</div>
                                                                </aura:set>
                                                            </aura:if>
                                                        </td>
                                                        <td data-label="Status" class="cell-style status-cell">
                                                            <div class="help-text-wrapper">
                                                                <div class="slds-truncate" title="{!tableData.MUSW__Status__c}">{!tableData.MUSW__Status__c}</div>
                                                                <!-- <div onmouseover="{!c.getHelpText}" data-obj="License" data-status="{!tableData.MUSW__Status__c}"
                                                                     data-substatus="{!tableData.Sub_Status__c}">
                                                                    <lightning:helptext content="{!v.helptextcontent}" />
                                                                </div> -->
                                                            </div>
                                                        </td>
                                                        <td data-label="Sub-status" class="cell-style">
                                                            <aura:if isTrue="{!tableData.Sub_Status__c}">
                                                                <div class="slds-truncate" title="{!tableData.Sub_Status__c}">{!tableData.Sub_Status__c}</div>
                                                                <aura:set attribute="else">None</aura:set>
                                                            </aura:if>
                                                        </td>
                                                        <td data-label="Actions" class="cell-style action-cell">
                                                            <div class="table-btn">
                                                                <aura:if isTrue="{!(tableData.Is_Renewal_Eligible__c || tableData.Is_Late_Renewal_Eligible__c|| tableData.Is_Reinstatement_Eligible__c)? true : false}">
                                                                    <aura:if isTrue="{!(tableData.Is_Renewal_Eligible__c || tableData.Is_Late_Renewal_Eligible__c)}">
                                                                        <lightning:button variant="brand" label="Renew" value="{!join(',','Renewal',tableData.Id,tableData.Application_Type__c,tableData.Credential_Type__c,tableData.Application_Method__c,tableData.Application__c,tableData.Application__r.isRenewal__c)}"
                                                                                          title="Renewal"
                                                                                          onclick="{!c.renewLicense}"
                                                                                          />
                                                                    </aura:if>
                                                                    <aura:if isTrue="{!tableData.Is_Reinstatement_Eligible__c}">
                                                                        <lightning:button variant="brand" label="Reinstate" title="Reinstate" value="{!join(',','Reinstatement',tableData.Id,tableData.Application_Type__c,tableData.Credential_Type__c,tableData.Application_Method__c,tableData.Application__c,tableData.Application__r.isRenewal__c)}"
                                                                                          onclick="{!c.renewLicense}"
                                                                                          />
                                                                    </aura:if>
                                                                    <aura:set attribute="else">
                                                                        <aura:if isTrue="{!tableData.MUSW__Status__c == 'Generate Fee'}">
                                                                            <a data-index="{!ind}" class="slds-button slds-button_brand"
                                                                               href="{!'/lightningwashington/cart?id='+tableData.Id}"
                                                                               target="_blank">Pay Fee</a>
                                                                        </aura:if>
                                                                        <!--<aura:if isTrue="{!tableData.MUSW__Status__c == 'In Review' || tableData.MUSW__Status__c == 'Active'}">
                                                                            <lightning:button variant="brand" label="Download Application" value="{!tableData.Id}" title="Download Application" onclick= "{!c.downloadDocument}"/>
                                                                        </aura:if>-->
                                                                    </aura:set>
                                                                </aura:if>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                </aura:iteration>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <aura:set attribute="else">
                                <div class="slds-align_absolute-center">There no license to display</div>
                            </aura:set>
                        </aura:if>
                    </div>
                    <div class="pagination-wrapper">
                        <c:LnP_Pagination pgSize="4" fullList="{!v.CurrentLicenseTableDataList}" dispList="{!v.licensePaginationList}"
                                          />
                    </div>
                </lightning:tab>
                
                <lightning:tab class="tab-style" label="Relationships" id="ProfessionalRelationshipsTab">
                    <div>
                        <aura:if isTrue="{!v.ProfessionalRelationshipDataList.length != 0}">
                            <aura:if isTrue="{!v.displayRemoveAccountContactModal}">
                                <div style="height:640px">
                                    <section role="dialog" tabindex="-1" aria-label="Meaningful description of the modal content"
                                             aria-modal="true" aria-describedby="modal-content-id-1"
                                             class="slds-modal slds-fade-in-open">
                                        <div class="slds-modal__container">
                                            <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                                                {!v.associationModalMessage}
                                            </div>
                                            <footer class="slds-modal__footer">
                                                <button class="slds-button slds-button_neutral" onclick="{!c.closeRemoveAccountContactRelationModal}">Back</button>
                                                <button data-id="{!v.removeAccountContactRelationId}" class="slds-button slds-button_brand"
                                                        onclick="{!c.removeAccountContactRelation}">OK</button>
                                            </footer>
                                        </div>
                                    </section>
                                    <div class="slds-backdrop slds-backdrop_open"></div>
                                </div>
                            </aura:if>
                            <div class="table-height">
                                <div style="height: 100%; position: relative;">
                                    <div class="table-scroll">
                                        <table class="slds-table slds-table_cell-buffer slds-max-medium-table_stacked slds-table_bordered">
                                            <thead>
                                                <tr class="slds-line-height_reset">
                                                    <aura:iteration items="{!v.ProfessionalRelationshipColumnList}" var="headerData">
                                                        <th class="" scope="col">
                                                            <div class="slds-truncate header-style" title="{!headerData}">{!headerData}</div>
                                                        </th>
                                                    </aura:iteration>
                                                    <th class="" scope="col">
                                                        <div class="slds-truncate" title="actions">
                                                            Actions
                                                        </div>
                                                    </th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                
                                                <aura:iteration items="{!v.relationPaginationList}" var="tableData" indexVar="ind">
                                                    <tr class="slds-hint-parent">
                                                        <td data-label="Name" class="cell-style">
                                                            <div class="slds-truncate" title="{!tableData.MUSW__Account__r.Name}">{!tableData.MUSW__Account__r.Name}</div>
                                                        </td>
                                                        <td data-label="Role" class="cell-style">
                                                            <div class="slds-truncate" title="{!tableData.MUSW__Account__r.Role__c}">{!tableData.Role__c}</div>
                                                        </td>
                                                        <td data-label="Title" class="cell-style">
                                                            <aura:if isTrue="{!tableData.Title__c}">
                                                                <div class="slds-truncate" title="{!tableData.MUSW__Account__r.Title__c}">{!tableData.Title__c}</div>
                                                                <aura:set attribute="else">None</aura:set>
                                                            </aura:if>
                                                        </td>
                                                        <td data-label="Phone" class="cell-style">
                                                            <aura:if isTrue="{!tableData.MUSW__Account__r.Business_Phone__c}">
                                                                <div class="slds-truncate" title="{!tableData.MUSW__Account__r.Business_Phone__c}">{!tableData.MUSW__Account__r.Business_Phone__c}</div>
                                                                <aura:set attribute="else">None</aura:set>
                                                            </aura:if>
                                                        </td>
                                                        <td data-label="Email" class="cell-style">
                                                            <div class="slds-truncate" title="{!tableData.MUSW__Account__r.Email__c}">{!tableData.MUSW__Account__r.Email__c}</div>
                                                        </td>
                                                        <td data-label="Actions" class="cell-style action-cell">
                                                            <div class="table-btn">
                                                                <aura:if isTrue="{!tableData.Status__c == 'Active'}">
                                                                    <a data-index="{!ind}" data-id="{!tableData.Id}" href="javascript:void(0)" class="slds-button slds-button_brand"
                                                                       onclick="{!c.openRemoveAccountContactRelationModal}">Separate</a>
                                                                    <aura:set attribute="else">None</aura:set>
                                                                </aura:if>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                </aura:iteration>
                                            </tbody>
                                        </table>
                                        
                                    </div>
                                </div>
                            </div>
                            <aura:set attribute="else">
                                <div class="slds-align_absolute-center">There are no relationships to display</div>
                            </aura:set>
                        </aura:if>
                        <div class="pagination-wrapper">
                            <c:LnP_Pagination pgSize="4" fullList="{!v.ProfessionalRelationshipDataList}" dispList="{!v.relationPaginationList}"
                                              />
                        </div>
                    </div>
                </lightning:tab>
                
                <lightning:tab class="tab-style" label="Draft Applications or Requests" id="ProfessionalDraftApplicationsTab">
                    <aura:if isTrue="{!v.DraftNewLicenseApplicationsDataList.length != 0 || v.DraftRenewApplicationsDataList.length != 0 || v.DraftMaintananceRequestApplicationsDataList.length != 0}">
                        <aura:if isTrue="{!v.DraftNewLicenseApplicationsDataList.length != 0}">
                            <div class="">
                                <div class="table-name">New License Applications</div>
                                <div class="table-height">
                                    <div style="height: 100%; position: relative;">
                                        <div class="table-scroll">
                                            <table class="slds-table slds-table_cell-buffer slds-max-medium-table_stacked slds-table_bordered">
                                                <thead>
                                                    <tr class="slds-line-height_reset">
                                                        <aura:iteration items="{!v.DraftNewLicenseApplicationsColumnList}" var="headerData">
                                                            <th class="" scope="col">
                                                                <div class="slds-truncate header-style" title="{!headerData}">{!headerData}</div>
                                                            </th>
                                                        </aura:iteration>
                                                        <th class="" scope="col">
                                                            <div class="slds-truncate" title="actionedit">Action</div>
                                                        </th>
                                                        <th class="" scope="col">
                                                            <div class="slds-truncate" title="actiondelete"></div>
                                                        </th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <aura:iteration items="{!v.draftNewPaginationList}" var="tableData" indexVar="ind">
                                                        <tr class="slds-hint-parent">
                                                            <td data-label="Profession" class="cell-style">
                                                                <div class="slds-truncate" title="{!tableData.Application_Type__c}">{!tableData.Application_Type__c}</div>
                                                            </td>
                                                            <td data-label="License type" class="cell-style">
                                                                <div class="slds-truncate" title="{!tableData.Credential_Type__c}">{!tableData.Credential_Type__c}</div>
                                                            </td>
                                                            <td data-label="Application method" class="cell-style">
                                                                <div class="slds-truncate" title="{!tableData.Application_Method__c}">{!tableData.Application_Method__c}</div>
                                                            </td>
                                                            <td data-label="Status" class="cell-style">
                                                                <div class="help-text-wrapper">
                                                                    <div class="slds-truncate" title="{!tableData.MUSW__Status__c}">{!tableData.MUSW__Status__c}</div>
                                                                    <!-- <div id="helptextdivid" onmouseover="{!c.getHelpText}" data-obj="License" data-status="{!tableData.MUSW__Status__c}"
                                                                         data-substatus="">
                                                                        <lightning:helptext content="{!v.helptextcontent}" />
                                                                    </div> -->
                                                                </div>
                                                            </td>
                                                            <td data-label="Last updated" class="cell-style">
                                                                <div class="slds-truncate" title="{!tableData.LastModifiedDate}">
                                                                    <ui:outputDateTime
                                                                                       value="{!tableData.LastModifiedDate}"
                                                                                       />
                                                                </div>
                                                            </td>
                                                            <td data-label="Actions" class="cell-style table-btn">
                                                                <div class="slds-truncate" onclick="{!c.editDraftLicenseApplication}" data-recordId="{!tableData.Id}"
                                                                     data-licenseType="{!tableData.Credential_Type__c}"
                                                                     data-board="{!tableData.Application_Type__c}"
                                                                     data-applicationType="{!tableData.Application_Method__c}"
                                                                     data-isrenewal="{!tableData.isRenewal__c}">
                                                                    <lightning:button variant="brand" label="Edit" title="Neutral action" />
                                                                    <!--<lightning:button variant="base" label="Renewal" value="{!join(',','Renewal',dataCell.Id,dataCell.board,dataCell.type,dataCell.applicationType,dataCell.licenseAppId,dataCell.appIsRenewal)}" title="Renewal" class="btn-lnp bottom-card-font-size view-text datacellId-fontBorder" onclick= "{!c.renewLicense}"/>-->
                                                                </div>
                                                            </td>
                                                            <td data-label="actions" class="cell-style action-cell table-btn">
                                                                <div class="slds-truncate" onclick="{!c.deleteDraftLicenseApplication}" data-recordId="{!tableData.Id}">
                                                                    <lightning:button label="Delete" />
                                                                </div>
                                                            </td>
                                                        </tr>
                                                    </aura:iteration>
                                                </tbody>
                                            </table>
                                            
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="pagination-wrapper">
                                <c:LnP_Pagination pgSize="4" fullList="{!v.DraftNewLicenseApplicationsDataList}"
                                                  dispList="{!v.draftNewPaginationList}" />
                            </div>
                        </aura:if>
                        <aura:if isTrue="{!v.DraftRenewApplicationsDataList.length != 0}">
                            <div class="">
                                <div class="table-name">Renewal/Reinstatement Applications</div>
                                <div class="table-height">
                                    
                                    <div style="height: 100%; position: relative;">
                                        <div class="table-scroll">
                                            <table class="slds-table slds-table_cell-buffer slds-max-medium-table_stacked slds-table_bordered">
                                                <thead>
                                                    <tr class="slds-line-height_reset">
                                                        <aura:iteration items="{!v.DraftRenewApplicationsColumnList}" var="headerData">
                                                            <th class="" scope="col">
                                                                <div class="slds-truncate header-style" title="{!headerData}">{!headerData}</div>
                                                            </th>
                                                        </aura:iteration>
                                                        <th class="" scope="col">
                                                            <div class="slds-truncate" title="actionedit">Actions</div>
                                                        </th>                                                        
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <aura:iteration items="{!v.draftRenewPaginationList}" var="tableData" indexVar="ind">
                                                        <tr class="slds-hint-parent">
                                                            <td data-label="License#" class="cell-style">
                                                               
                                                               <div class="slds-truncate" title="{!tableData.Name}">{!tableData.Name}</div>
                                                            </td>
                                                            <td data-label="Profession" class="cell-style">
                                                                <div class="slds-truncate" title="{!tableData.License__r.Application_Type__c}">{!tableData.Application_Type__c}</div>
                                                            </td>
                                                            <td data-label="License type" class="cell-style">
                                                                <div class="slds-truncate" title="{!tableData.License__r.Credential_Type__c}">{!tableData.Credential_Type__c}</div>
                                                            </td>
                                                            <td data-label="Expiration date" class="cell-style">
                                                                <div class="slds-truncate" title="{!tableData.License__r.MUSW__Expiration_Date__c}">
                                                                    <lightning:formattedDateTime
                                                                                                 value="{!tableData.MUSW__Expiration_Date__c}"
                                                                                                 />
                                                                </div>
                                                            </td>
                                                            <td data-label="Status" class="cell-style">
                                                                <div class="help-text-wrapper">
                                                                    <div class="slds-truncate" title="{!tableData.Application__r.MUSW__Status__c}">{!tableData.Application__r.MUSW__Status__c}</div>
                                                                    <!-- <div id="helptextdivid" onmouseover="{!c.getHelpText}" data-obj="	Renewal/Reinstatement"
                                                                         data-status="{!tableData.Application__r.MUSW__Status__c}"
                                                                         data-substatus="">
                                                                        <lightning:helptext content="{!v.helptextcontent}" />
                                                                    </div> -->
                                                                </div>
                                                            </td>
                                                            <td data-label="Last updated" class="cell-style">
                                                                <div class="slds-truncate" title="{!tableData.Application__r.LastModifiedDate}">
                                                                    <ui:outputDateTime
                                                                                       value="{!tableData.Application__r.LastModifiedDate}"
                                                                                       />
                                                                </div>
                                                            </td>
                                                            
                                                            <td data-label="actions" class="cell-style table-btn">
                                                                <div class="table-edit" onclick="{!c.editDraftRenewApplications}" data-recordId="{!tableData.Application__c}"
                                                                     data-licenseType="{!tableData.Credential_Type__c}"
                                                                     data-board="{!tableData.Application_Type__c}"
                                                                     data-applicationType="{!tableData.Application_Method__c}"
                                                                     data-reinstatement="{!tableData.Is_Reinstatement_Eligible__c}">
                                                                    <lightning:button variant="brand" label="Edit" title="Neutral action" />
                                                                </div>
                                                                <!--<lightning:button variant="base" label="Renewal" value="{!join(',','Renewal',dataCell.Id,dataCell.board,dataCell.type,dataCell.applicationType,dataCell.licenseAppId,dataCell.appIsRenewal)}" title="Renewal" class="btn-lnp bottom-card-font-size view-text datacellId-fontBorder" onclick= "{!c.renewLicense}"/>-->
                                                                <div class="" onclick="{!c.deleteDraftRenewApplications}" data-recordId="{!tableData.Id}">
                                                                    <lightning:button label="Delete"  />
                                                                </div>
                                                                
                                                            </td>                                                            
                                                        </tr>
                                                    </aura:iteration>
                                                </tbody>
                                            </table>
                                            
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="pagination-wrapper">
                                <c:LnP_Pagination pgSize="4" fullList="{!v.DraftRenewApplicationsDataList}" dispList="{!v.draftRenewPaginationList}"
                                                  />
                            </div>
                        </aura:if>
                        <aura:if isTrue="{!v.DraftMaintananceRequestApplicationsDataList.length != 0}">
                            <div class="">
                                <div class="table-name">Maintanance Request Applications</div>
                                <div class="table-height">
                                    
                                    <div style="height: 100%; position: relative;">
                                        <div class="table-scroll">
                                            <table class="slds-table slds-table_cell-buffer slds-max-medium-table_stacked slds-table_bordered">
                                                <thead>
                                                    <tr class="slds-line-height_reset">
                                                        <aura:iteration items="{!v.DraftMaintananceRequestApplicationsColumnList}" var="headerData">
                                                            <th class="" scope="col">
                                                                <div class="slds-truncate header-style" title="{!headerData}">{!headerData}</div>
                                                            </th>
                                                        </aura:iteration>
                                                        <th class="" scope="col">
                                                            <div class="slds-truncate" title="actionedit">Actions</div>
                                                        </th>
                                                        <th class="" scope="col">
                                                            <div class="slds-truncate" title="actiondelete"></div>
                                                        </th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <aura:iteration items="{!v.draftMaintainPaginationList}" var="tableData" indexVar="ind">
                                                        <tr class="slds-hint-parent">
                                                            <td data-label="Request type" class="cell-style">
                                                                <div class="slds-truncate" title="{!tableData.Service_Request_Type__c}">{!tableData.Service_Request_Type__c}</div>
                                                            </td>
                                                            <td data-label="Request against" class="cell-style">
                                                                <div class="slds-truncate" title="{!tableData.License_Type__c}">{!tableData.License_Type__c}</div>
                                                            </td>
                                                            <td data-label="Status" class="cell-style">
                                                                <div class="slds-truncate" title="{!tableData.Status__c}">{!tableData.Status__c}</div>
                                                            </td>
                                                            <td data-label="Last updated" class="cell-style">
                                                                <div class="slds-truncate" title="{!tableData.LastModifiedDate}">
                                                                    <ui:outputDateTime
                                                                                       value="{!tableData.LastModifiedDate}"
                                                                                       />
                                                                </div>
                                                            </td>
                                                            <td data-label="Actions" class="cell-style table-btn">
                                                                <div class="table-edit" onclick="{!c.editDraftRequestApplications}" data-recordId="{!tableData.Id}"
                                                                     data-licenseType="{!tableData.License_Type__c}"
                                                                     data-board="{!tableData.Profession__c}"
                                                                     data-applicationType="General Application"
                                                                     data-serviceRequest="{!tableData.Service_Request_Type__c}"
                                                                     data-licenseId="{!tableData.License__c}">
                                                                    <lightning:button variant="brand" label="Edit" title="Neutral action" />
                                                                </div>
                                                            </td>
                                                            <td data-label="Actions" class="cell-style action-cell table-btn">
																<div class="slds-truncate" onclick="{!c.deleteDraftMaintananceRequestApplication}" data-recordId="{!tableData.Id}">
																	<lightning:button label="Delete" />
																</div>
                                                            </td>
                                                        </tr>
                                                    </aura:iteration>
                                                </tbody>
                                            </table>
                                            
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="pagination-wrapper">
                                <c:LnP_Pagination pgSize="4" fullList="{!v.DraftMaintananceRequestApplicationsDataList}"
                                                  dispList="{!v.draftMaintainPaginationList}" />
                            </div>
                        </aura:if>
                        <aura:set attribute="else">
                            <div class="slds-align_absolute-center">There are no draft maintenance requests</div>
                        </aura:set>
                    </aura:if>
                </lightning:tab>
                
                <lightning:tab class="tab-style" label="Pending Applications or Requests" id="ProfessionalPendingApplicationsTab">
                    <aura:if isTrue="{!v.PendingNewLicenseApplicationsDataList.length != 0 || v.PendingRenewApplicationsDataList.length != 0 || v.PendingMaintananceRequestApplicationsDataList.length != 0}">
                        <aura:if isTrue="{!v.PendingNewLicenseApplicationsDataList.length != 0}">
                            <div class="">
                                <div class="table-name">New License Applications</div>
                                <div class="table-height">
                                    <div style="height: 100%; position: relative;">
                                        <div class="table-scroll">
                                            <table class="slds-table slds-table_cell-buffer slds-max-medium-table_stacked slds-table_bordered">
                                                <thead>
                                                    <tr class="slds-line-height_reset">
                                                        <aura:iteration items="{!v.PendingNewLicenseApplicationsColumnList}" var="headerData">
                                                            <th class="" scope="col">
                                                                <div class="slds-truncate header-style" title="{!headerData}">{!headerData}</div>
                                                            </th>
                                                        </aura:iteration>
                                                        <th class="" scope="col">
                                                            <div class="slds-truncate" title="actions">Actions</div>
                                                        </th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <aura:iteration items="{!v.pendingNewPaginationList}" var="tableData" indexVar="ind">
                                                        <tr class="slds-hint-parent">
                                                            <td data-label="Application#">
                                                                <div class="slds-truncate">
                                                                    <u> <a data-index="{!ind}" data-licenseId="{!tableData.Id}" href="javascript:void(0)" onclick="{!c.dsiplayPendingLicenseDetails}">{!tableData.Application_Number__c}</a></u>
                                                                </div>
                                                            </td>
                                                            <td data-label="Profession">
                                                                <div class="slds-truncate" title="{!tableData.Application_Type__c}">{!tableData.Application_Type__c}</div>
                                                            </td>
                                                            <td data-label="License type">
                                                                <div class="slds-truncate" title="{!tableData.Credential_Type__c}">{!tableData.Credential_Type__c}</div>
                                                            </td>
                                                            <td data-label="Application method">
                                                                <div class="slds-truncate" title="{!tableData.Application_Method__c}">{!tableData.Application_Method__c}</div>
                                                            </td>
                                                            <td data-label="Status">
                                                                <div class="help-text-wrapper">
                                                                    <div class="slds-truncate" title="{!tableData.MUSW__Status__c}">{!tableData.MUSW__Status__c}</div>
                                                                    <!-- <div id="helptextdivid" onmouseover="{!c.getHelpText}" data-obj="License" data-status="{!tableData.MUSW__Status__c}"
                                                                         data-substatus="{!tableData.Sub_Status__c}">
                                                                        <lightning:helptext content="{!v.helptextcontent}" />
                                                                    </div> -->
                                                                </div>
                                                            </td>
                                                            <td data-label="Sub-status">
                                                                <aura:if isTrue="{!tableData.Sub_Status__c}">
                                                                    <div class="slds-truncate" title="{!tableData.Sub_Status__c}">{!tableData.Sub_Status__c}</div>
                                                                    <aura:set attribute="else">
                                                                        <div class="slds-truncate">None</div>
                                                                    </aura:set>
                                                                </aura:if>
                                                            </td>
                                                            <td data-label="Actions">
                                                                <div class="table-btn">
                                                                    <aura:if isTrue="{!(tableData.MUSW__Status__c == 'Generate Fee')||(tableData.MUSW__Status__c == 'Pending Payment') ||(tableData.MUSW__Status__c == 'Payment Pending')}">
                                                                        <lightning:button variant="brand" label="Pay Fee" value="{!tableData.Id}" title="Pay Fee"
                                                                                          onclick="{!c.redirectToCart}"
                                                                                          />
                                                                    </aura:if>
                                                                    <aura:if isTrue="{!tableData.MUSW__Status__c == 'Pending Additional Qualifications'}">
                                                                        <div data-id="{!tableData.Id}" data-relatedSobject="License__c" onclick="{!c.updateAdditionalQualification}">
                                                                            <lightning:button variant="brand" label="Update" title="Update" />
                                                                        </div>
                                                                    </aura:if>
                                                                    <aura:if isTrue="{!tableData.MUSW__Status__c == 'Pending Action'}">
                                                                        <div onclick="{!c.uploadpendingdocuments}" data-id="{!tableData.Id}" data-number="{!tableData.Name}">
                                                                            <lightning:button variant="brand" label="Upload Files" />
                                                                        </div>
                                                                    </aura:if>
                                                                    <aura:if isTrue="{!(tableData.MUSW__Status__c == 'Submitted')|| (tableData.MUSW__Status__c == 'In-Review')|| (tableData.MUSW__Status__c == 'In Review')}">
                                                                        <lightning:button variant="brand" label="Download Application" value="{!tableData.Id}"
                                                                                          title="Download Application"
                                                                                          onclick="{!c.downloadDocument}"
                                                                                          />
                                                                    </aura:if>
                                                                </div>
                                                                
                                                                
                                                            </td>
                                                        </tr>
                                                    </aura:iteration>
                                                </tbody>
                                            </table>
                                            
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="pagination-wrapper">
                                <c:LnP_Pagination pgSize="4" fullList="{!v.PendingNewLicenseApplicationsDataList}"
                                                  dispList="{!v.pendingNewPaginationList}" />
                            </div>
                        </aura:if>
                        <aura:if isTrue="{!v.PendingRenewApplicationsDataList.length != 0}">
                            <div class="">
                                <div class="table-name">Renewal / Reinstatement Applications</div>
                                <div class="table-height">
                                    
                                    <div style="height: 100%; position: relative;">
                                        <div class="table-scroll">
                                            <table class="slds-table slds-table_cell-buffer slds-max-medium-table_stacked slds-table_bordered">
                                                <thead>
                                                    <tr class="slds-line-height_reset">
                                                        <aura:iteration items="{!v.PendingRenewApplicationsColumnList}" var="headerData">
                                                            <th class="" scope="col">
                                                                <div class="slds-truncate header-style" title="{!headerData}">{!headerData}</div>
                                                            </th>
                                                        </aura:iteration>                                                        
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <aura:iteration items="{!v.pendingRenewPaginationList}" var="tableData" indexVar="ind">
                                                        <tr class="slds-hint-parent">
                                                            <td data-label="License#">
                                                                <div class="slds-truncate" title="{!tableData.License_Number__c}">{!tableData.License_Number__c}</div>
                                                            </td>
                                                            <td data-label="Profession">
                                                                <aura:if isTrue="{!tableData.Credential_Type__c}">
                                                                    <div class="slds-truncate" title="{!tableData.License_Number__c}">{!tableData.Credential_Type__c}</div>
                                                                    <aura:set attribute="else">None</aura:set>
                                                                </aura:if>
                                                            </td>
                                                            <td data-label="License type">
                                                                <aura:if isTrue="{!tableData.License__r.Application_Method__c}">
                                                                    <div class="slds-truncate" title="{!tableData.Application_Method__c}">{!tableData.License__r.Application_Method__c}</div>
                                                                    <aura:set attribute="else">None</aura:set>
                                                                </aura:if>
                                                            </td>
                                                            <td data-label="Expiration date">
                                                                <aura:if isTrue="{!tableData.Renewal_Expiration_Date__c}">
                                                                    <div class="slds-truncate" title="{!tableData.Renewal_Expiration_Date__c}">
                                                                        <lightning:formattedDateTime
                                                                                                     value="{!tableData.Renewal_Expiration_Date__c}"
                                                                                                     />
                                                                    </div>
                                                                    <aura:set attribute="else">None</aura:set>
                                                                </aura:if>
                                                            </td>
                                                            <td data-label="Status">
                                                                <div class="help-text-wrapper">
                                                                    <aura:if isTrue="{!tableData.Renewal_Status__c}">
                                                                        <div class="slds-truncate" title="{!tableData.Renewal_Status__c}">{!tableData.Renewal_Status__c}</div>
                                                                        
                                                                        <aura:set attribute="else">None</aura:set>
                                                                    </aura:if>
                                                                    <!-- <div id="helptextdivid" onmouseover="{!c.getHelpText}" data-obj="Renewal/Reinstatement"
                                                                         data-status="{!tableData.Renewal_Status__c}"
                                                                         data-substatus="{!tableData.Sub_Status__c}">
                                                                        <lightning:helptext content="{!v.helptextcontent}" />
                                                                    </div> -->
                                                                </div>
                                                            </td>
                                                            <td data-label="Sub-status">
                                                                <aura:if isTrue="{!tableData.Sub_Status__c}">
                                                                    <div class="slds-truncate" title="{!tableData.Sub_Status__c}">{!tableData.Sub_Status__c}</div>
                                                                    <aura:set attribute="else">None</aura:set>
                                                                </aura:if>
                                                            </td>
                                                            <td data-label="Actions" class="table-btn">
                                                                <aura:if isTrue="{!(tableData.Renewal_Status__c == 'Generate Fee')||(tableData.Renewal_Status__c == 'Pending Payment')||(tableData.Renewal_Status__c == 'Payment Pending')}">
                                                                    <lightning:button variant="brand" label="Pay Fee" value="{!tableData.Id}" title="Pay Fee"
                                                                                      onclick="{!c.redirectToCart}"
                                                                                      />
                                                                </aura:if>
                                                                <aura:if isTrue="{!(tableData.Renewal_Status__c == 'Pending Additional Qualifications')}">
                                                                    <div data-id="{!tableData.Id}" data-relatedSobject="Renewal_Reinstatement_Application__c"
                                                                         onclick="{!c.updateAdditionalQualification}">
                                                                        <lightning:button variant="brand" label="Update" title="Update" />
                                                                    </div>
                                                                </aura:if>
                                                                <aura:if isTrue="{!(tableData.Renewal_Status__c == 'Pending action')}">
                                                                    <lightning:button variant="brand" label="Update Files" value="{!tableData.Id}" />
                                                                </aura:if>
                                                                <!--<lightning:button variant="brand" label="Download Application" value="{!tableData.Id}" title="Download Application" onclick= "{!c.redirectToCart}"/>-->
                                                            </td>
                                                        </tr>
                                                    </aura:iteration>
                                                </tbody>
                                            </table>
                                            
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="pagination-wrapper">
                                <c:LnP_Pagination pgSize="4" fullList="{!v.PendingRenewApplicationsDataList}" dispList="{!v.pendingRenewPaginationList}"
                                                  />
                            </div>
                        </aura:if>
                        <aura:if isTrue="{!v.PendingMaintananceRequestApplicationsDataList.length != 0}">
                            <div class="">
                                <div class="table-name">Maintanance Request Applications</div>
                                <div class="table-height">
                                    
                                    <div style="height: 100%; position: relative;">
                                        <div class="table-scroll">
                                            <table class="slds-table slds-table_cell-buffer slds-max-medium-table_stacked slds-table_bordered">
                                                <thead>
                                                    <tr class="slds-line-height_reset">
                                                        <aura:iteration items="{!v.PendingMaintananceRequestApplicationsColumnList}" var="headerData">
                                                            <th class="" scope="col">
                                                                <div class="slds-truncate header-style" title="{!headerData}">{!headerData}</div>
                                                            </th>
                                                        </aura:iteration>                                                        
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <aura:iteration items="{!v.pendingMaintainPaginationList}" var="tableData" indexVar="ind">
                                                        <tr class="slds-hint-parent">
                                                            <td data-label="Request#">
                                                                <aura:if isTrue="{!tableData.Name}">
                                                                    <div class="slds-truncate" title="{!tableData.Name}">{!tableData.Name}</div>
                                                                    <aura:set attribute="else">None</aura:set>
                                                                </aura:if>
                                                            </td>
                                                            <td data-label="Request type">
                                                                <aura:if isTrue="{!tableData.Service_Request_Type__c}">
                                                                    <div class="slds-truncate" title="{!tableData.Service_Request_Type__c}">{!tableData.Service_Request_Type__c}</div>
                                                                    <aura:set attribute="else">None</aura:set>
                                                                </aura:if>
                                                            </td>
                                                            <td data-label="Request against">
                                                                <aura:if isTrue="{!tableData.License_Type__c}">
                                                                    <div class="slds-truncate" title="{!tableData.License_Type__c}">{!tableData.License_Type__c}</div>
                                                                    <aura:set attribute="else">None</aura:set>
                                                                </aura:if>
                                                            </td>
                                                            <td data-label="Status">
                                                                <aura:if isTrue="{!tableData.Status__c}">
                                                                    <div class="slds-truncate" title="{!tableData.Status__c}">{!tableData.Status__c}</div>
                                                                    <aura:set attribute="else">None</aura:set>
                                                                </aura:if>
                                                            </td>
                                                        </tr>
                                                    </aura:iteration>
                                                </tbody>
                                            </table>
                                            
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="pagination-wrapper">
                                <c:LnP_Pagination pgSize="4" fullList="{!v.PendingMaintananceRequestApplicationsDataList}"
                                                  dispList="{!v.pendingMaintainPaginationList}" />
                            </div>
                        </aura:if>
                        <aura:set attribute="else">
                            <div class="slds-align_absolute-center">There are no pending maintenance requests</div>
                        </aura:set>
                        
                    </aura:if>
                </lightning:tab>
                
                <lightning:tab class="tab-style" label="Completed Requests" id="ProfessionalCompletedRequestTab">
                    <aura:if isTrue="{!v.CompletedMaintananceRequestApplicationsDataList.length !=0}">
                        <div class="">
                            <div class="comp-desc">**Below are the maintance requests completed in last
                                twelve months</div>
                            <div class="table-height">
                                
                                <div style="height: 100%; position: relative;">
                                    <div class="table-scroll">
                                        <table class="slds-table slds-table_cell-buffer slds-max-medium-table_stacked slds-table_bordered">
                                            <thead>
                                                <tr class="slds-line-height_reset">
                                                    <aura:iteration items="{!v.CompletedMaintananceRequestApplicationsColumnList}" var="headerData">
                                                        <th class="" scope="col">
                                                            <div class="slds-truncate header-style" title="{!headerData}">{!headerData}</div>
                                                        </th>
                                                    </aura:iteration>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <aura:iteration items="{!v.completeRequestPaginationList}" var="tableData" indexVar="ind">
                                                    <tr class="slds-hint-parent">
                                                        <td data-label="Request#">
                                                            <aura:if isTrue="{!tableData.Name}">
                                                                <div class="slds-truncate" title="{!tableData.Name}">{!tableData.Name}</div>
                                                                <aura:set attribute="else">None</aura:set>
                                                            </aura:if>
                                                        </td>
                                                        <td data-label="Request type">
                                                            <aura:if isTrue="{!tableData.Service_Request_Type__c}">
                                                                <div class="slds-truncate" title="{!tableData.Service_Request_Type__c}">{!tableData.Service_Request_Type__c}</div>
                                                                <aura:set attribute="else">None</aura:set>
                                                            </aura:if>
                                                        </td>
                                                        <td data-label="Request against">
                                                            <aura:if isTrue="{!tableData.License_Type__c}">
                                                                <div class="slds-truncate" title="{!tableData.License_Type__c}">{!tableData.License_Type__c}</div>
                                                                <aura:set attribute="else">None</aura:set>
                                                            </aura:if>
                                                        </td>
                                                        <td data-label="Completion date">
                                                            <aura:if isTrue="{!tableData.End_Time__c}">
                                                                <div class="slds-truncate" title="{!tableData.End_Time__c}">
                                                                    <lightning:formattedDateTime value="{!tableData.End_Time__c}" year="numeric" day="2-digit" month="long" hour="2-digit" minute="2-digit"/>
                                                                </div>
                                                                <aura:set attribute="else">None</aura:set>
                                                            </aura:if>
                                                        </td>
                                                    </tr>
                                                </aura:iteration>
                                            </tbody>
                                        </table>
                                    </div>
                                    
                                </div>
                            </div>
                        </div>
                        <aura:set attribute="else">
                            <div class="slds-align_absolute-center">You have no completed requests from past 12 months</div>
                        </aura:set>
                        <div class="pagination-wrapper">
                            <c:LnP_Pagination pgSize="4" fullList="{!v.CompletedMaintananceRequestApplicationsDataList}"
                                              dispList="{!v.completeRequestPaginationList}" />
                        </div>
                    </aura:if>
                </lightning:tab>
                
            </lightning:tabset>
        </aura:if>
        
    </div>
    
</aura:component>
