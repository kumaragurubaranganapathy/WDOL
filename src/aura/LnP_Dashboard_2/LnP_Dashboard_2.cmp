<!--@AUTHOR: Pramod Kumar
   @Date: 28-May-2019
   
   Description: Lightning component created for professional DashBoard Page. 
   
   MODIFICATION LOG:
   DEVELOPER                          DATE                     DESCRIPTION
   ================================================================================
   Sanghmitra Sahu/Tuhin Mazumder     14-Sep-2018             Initial Creation
   ================================================================================= -->
<aura:component implements="forceCommunity:availableForAllPageTypes" controller="LnP_DashboardApexController_2" access="global" >
    <aura:attribute name="widgetArray" type="List"/>
    <aura:attribute name="application" type="List"/>
    <aura:attribute name="applicationToIterate" type="List" description="Duplicate of application list for having view more option"/>
    <aura:attribute name="viewMoreApplicationBoolean" type="Boolean" default="false"/>
    <aura:attribute name="licenses" type="List"/>
    <aura:attribute name="licensesToIterate" type="List" description="Duplicate of licenses list for having view more option"/>
    <aura:attribute name="BusinessLicenseToIterate" type="List" />
    <aura:attribute name="viewMoreLicensesBoolean" type="Boolean" default="false"/>
    <aura:attribute name="bottomCardListHeader" type="List"/>
    <aura:attribute name="BusinessLicense" type="List" />
    <aura:attribute name="viewMoreBusinessLicensesBoolean" type="Boolean" default="false" />
    <aura:attribute name="CurrentLicenseTableColumnsMap" type="Map"/>
    <aura:attribute name="DraftLicenseTableColumnsMap" type="Map"/>
    <aura:attribute name="DraftRenewLicenseTableColumnsMap" type="Map"/>
    <aura:attribute name="DraftMaintanceRequestTableColumnsMap" type="Map"/>
    <aura:handler name="init" value="{!this}" action="{!c.doInit}"/>
    <div aura:id="body">
        <c:LnP_ServerActionService aura:id="server"/>
        <c:LnP_Dashboard_2_Header/>
        <div class="slds-grid slds-wrap">
            
            <aura:iteration items="{!v.widgetArray}" var="widget" indexVar="var">
                <div class="{!widget.class +' widget'}">                
                    <div class="app-wrapper">
                        <!--
                        <div class="header b-bottom">
                        -->
                        <!--
                            <img src="{!$Resource.delawareSVGs +'/Icons/'+ widget.icon}" alt="{!widget.header}"/>
                            -->
                        <!--
                            <a href="{!$Label.c.Polaris_Portal_Home+'licenseSelectionPage'}" target="_self" class="{!((widget.header == 'All Applications')?'app':'slds-hide')}">+ &#160;Apply for New License</a>
                         </div>
                         -->                         
                    </div>
                    <aura:if isTrue="{!widget.header == 'All Applications'}">
                        <lightning:tabset selectedTabId="tab3">
                            <lightning:tab class="tab-style" label="Licenses" >
                                <div style="height: 235px;">
                                    <c:LnP_GenericDataTable setsObjectAPIToDataTable = "MUSW__License2__c" setSobjectColumnsToDataTable =  "{
                                                                                                                                            'Name':'LICENSE#',
                                                                                                                                            'Application_Type__c':'PROFESSION',
                                                                                                                                            'Credential_Type__c':'LICENSE TYPE',
                                                                                                                                            'MUSW__Expiration_Date__c':'EXPIRATION DATE',
                                                                                                                                            'MUSW__Status__c':'STATUS',
                                                                                                                                            'Sub_Status__c':'SUB-STATUS'
                                                                                                                                            }" setSobjectBusinessFunction = "Current Licenses"/>
                                </div>
                                <!-- copy and paste content from Table div UI code in dashboard2.docx-->
                            </lightning:tab>
                            <lightning:tab class="tab-style" label="RelationShips" title="Business License">                        
                                Work In Progress
                            </lightning:tab>
                            <lightning:tab class="tab-style" label="Draft Applications" id="tab3">
                                
                                	<div style="height: 150px;" class="slds-m-vertical_xx-large">                                    
                                    <c:LnP_GenericDataTable headerName ="New License" setsObjectAPIToDataTable = "MUSW__License2__c" setSobjectColumnsToDataTable =  "{
                                                                                                                                            'Application_Type__c':'PROFESSION',
                                                                                                                                            'Credential_Type__c':'LICENSE TYPE',
                                                                                                                                            'Application_Method__c':'APPLICATION METHOD',
                                                                                                                                            'LastModifiedDate'       :'LAST UPDATED' 
                                                                                                                                            }" setSobjectBusinessFunction = "Draft License"/>
                                </div><br/><br/>
                                
                                	<div style="height: 150px;" class="slds-m-vertical_xx-large">                                    
                                    <c:LnP_GenericDataTable headerName ="Renewal" setsObjectAPIToDataTable = "Renewal_Application__c" setSobjectColumnsToDataTable =  "{
                                                                                                                                            'License_Number__c':'LICENSE#',
                                                                                                                                            'Application_Type__c':'PROFESSION',
                                                                                                                                            'Credential_Type__c':'LICENSE TYPE',
                                                                                                                                            'Renewal_Expiration_Date__c':'EXPIRATION DATE',
                                                                                                                                            'LastModifiedDate':'LAST UPDATED'                                                 
                                                                                                                                            }" setSobjectBusinessFunction = "Draft Renew License"/>
                                </div><br/><br/>
                                
                                	<div style="height: 150px;" class="slds-m-vertical_xx-large">                                    
                                    <c:LnP_GenericDataTable headerName ="Maintance request" setsObjectAPIToDataTable = "Request__c" setSobjectColumnsToDataTable =  "{
                                                                                                                                            'License_Type__c':'REQUEST',
                                                                                                                                            'Service_Request_Type__c':'REQUEST AGAINST',
                                                                                                                                            'End_Time__c' : 'Due Date'                                                                                                                                                                                          
                                                                                                                                            }" setSobjectBusinessFunction = "Draft Maintance Request"/>
                                </div><br/><br/>
                                
                            </lightning:tab>
                            <lightning:tab class="tab-style" label="Pending Applications">
                                      
                                	<div style="height: 150px;" class="slds-m-vertical_xx-large">                                    
                                    <c:LnP_GenericDataTable headerName ="New License" setsObjectAPIToDataTable = "MUSW__License2__c" setSobjectColumnsToDataTable =  "{
                                                                                                                                            'Application_Type__c':'PROFESSION',
                                                                                                                                            'Credential_Type__c':'LICENSE TYPE',
                                                                                                                                            'Application_Method__c':'APPLICATION METHOD',
                                                                                                                                            'LastModifiedDate'       :'LAST UPDATED' 
                                                                                                                                            }" setSobjectBusinessFunction = "Draft License"/>
                                </div><br/><br/>
                                
                                	<div style="height: 150px;" class="slds-m-vertical_xx-large">                                    
                                    <c:LnP_GenericDataTable headerName ="Renewal" setsObjectAPIToDataTable = "Renewal_Application__c" setSobjectColumnsToDataTable =  "{
                                                                                                                                            'License_Number__c':'LICENSE#',
                                                                                                                                            'Application_Type__c':'PROFESSION',
                                                                                                                                            'Credential_Type__c':'LICENSE TYPE',
                                                                                                                                            'Renewal_Expiration_Date__c':'EXPIRATION DATE',
                                                                                                                                            'LastModifiedDate':'LAST UPDATED'                                                 
                                                                                                                                            }" setSobjectBusinessFunction = "Draft Renew License"/>
                                </div><br/><br/>
                                
                                	<div style="height: 150px;" class="slds-m-vertical_xx-large">                                    
                                    <c:LnP_GenericDataTable headerName ="Maintance request" setsObjectAPIToDataTable = "Request__c" setSobjectColumnsToDataTable =  "{
                                                                                                                                            'License_Type__c':'REQUEST',
                                                                                                                                            'Service_Request_Type__c':'REQUEST AGAINST',
                                                                                                                                            'End_Time__c' : 'Due Date'                                                                                                                                                                                          
                                                                                                                                            }" setSobjectBusinessFunction = "Draft Maintance Request"/>
                                </div><br/><br/>
                            </lightning:tab>
                            <lightning:tab class="tab-style" label="Completed Requests">
                                Work In Progress
                            </lightning:tab>
                        </lightning:tabset>
                        <!--<div class="slds-card__body">
                        <table class="slds-table slds-table_cell-buffer slds-no-row-hover" role="grid">
                            <thead>
                                <tr class="slds-line-height_reset">
                                    <aura:iteration items="{!v.bottomCardListHeader}" var="item">
                                        <th scope="col">
                                            <div class="slds-truncate col">{!item}</div>
                                        </th>
                                    </aura:iteration>
                                </tr>
                            </thead>
                            <tbody>
                                <aura:iteration items="{!v.application}" var="dataCell" indexVar="ind">
                                    <tr class="slds-hint-parent">
                                        <td role="gridcell">
                                            <div class="slds-truncate bottom-card-font-size">{!dataCell.type}</div>
                                        </td>
                                        <td role="gridcell">
                                            <div class="slds-truncate bottom-card-font-size">{!dataCell.status}</div>
                                        </td>
                                        <td role="gridcell">
                                            <div class="slds-truncate bottom-card-font-size">{!dataCell.date}</div>
                                        </td>
                                        <td role="gridcell">
                                            <a data-index="{!ind}"  class="slds-truncate bottom-card-font-size view-text datacellId-fontBorder" href=""  target="_blank" onclick="{!c.openExistingApp}">View More</a>
                                        </td>
                                    </tr>                                    
                                </aura:iteration>
                            </tbody>
                        </table>
                    </div> -->
                        <aura:set attribute="else">
                            <div class="content"></div>
                        </aura:set>
                    </aura:if>
                    <!--<div class="btn-wrapper">
                    <div class="app-btn">
                        <a href="https://deloittelnp.force.com/s/licenseSelectionPage" target="_self" class="{!((widget.header == 'All Applications')?'':'slds-hide')}">+ &#160;New Application</a>
                    </div>  
                    <div class="renew-btn">
                        <lightning:button class="down-btn-wid" aura:id="button1" label="Renew" onclick="{!c.renewApplication}"/>
                    </div>
                    
                </div>-->
                    <!-- <div class="slds-no-flex view-more">
                    <a href="{!widget.url}" target="_blank" class="fontSize">View More...</a>
                </div> -->
                </div>           
            </aura:iteration>
        </div>
    </div>
</aura:component>