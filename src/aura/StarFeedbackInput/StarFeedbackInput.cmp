<aura:component controller="PolarisFeedbackController" implements="forceCommunity:availableForAllPageTypes,force:hasRecordId" access="global" >
    <aura:attribute name="isbusinsessLicense" type="Boolean" default="false"/>
    <aura:attribute name="ratingValues" type="Object[]" />
    <aura:attribute name="value" type="Double" />
    <aura:attribute name="starValue" type="Double" />
    <aura:handler name="init" value="{!this}" action="{!c.doInit}"/>
    <aura:attribute name="getServerValue" type="string" default="" description="To get value of server response"/>
    <aura:attribute name="userfeedback" type="sObject" default="{'sobjectType': 'User_Feedback__c',
                                                                'Comments__c': '',
                                                                'Grade__c': ''
                                                                }"/>
    <div class="feedback-wrapper">
        <h1 class="feedback-title">{!$Label.c.Submit_FeedbackText}</h1>
        <div class="link-wrapper">
            <div class="feedback-link">{!$Label.c.Submit_Feedback_Heading}</div>
            <a href="{!$Label.c.Polaris_FeedbackLink}">{!$Label.c.Polaris_FeedbackLink}</a>
        </div>
        <div class="comments-wrapper">
            <lightning:textarea name="comments" label="{!$Label.c.Polaris_Comments}" value="{!v.userfeedback.Comments__c}" />            
        </div>
        
        <div class="star-wrapper">        
            <aura:iteration items="{!v.ratingValues}" var="rating">
                <img aura:id="empty-star" class="empty" data-index="{!rating.index}" id="{!'empty'+ rating.index}" src="{!$Resource.LnP_Icons+'/LnP_Icons/star-empty.svg'}" alt="{!$Label.c.Polaris_EmptyStarText}" onclick="{!c.starClick}"/>
                <img aura:id="half-star" class="half slds-hide" data-index="{!rating.index}" id="{!'half'+ rating.index}" src="{!$Resource.LnP_Icons+'/LnP_Icons/star-half.svg'}" alt="{!$Label.c.Polaris_HalfStarText}" onclick="{!c.starClick}"/>
                <img aura:id="full-star" class="full slds-hide" data-index="{!rating.index}" id="{!'full'+ rating.index}" src="{!$Resource.LnP_Icons+'/LnP_Icons/star-full.svg'}" alt="{!$Label.c.Polaris_FullStarText}" onclick="{!c.starClick}"/>
            </aura:iteration> 
        </div>
        <div class="buttons-wrapper">            
            
            <lightning:button class="button-style" variant="brand" label="{!$Label.c.Polaris_SubmitText}" title="{!$Label.c.Polaris_SubmitText}" onclick="{! c.saveFeedback }"/>
            <lightning:button  class="button-style cancel-btn" label="{!$Label.c.Polaris_SkipText}" title="{!$Label.c.Polaris_SkipText}" onclick="{! c.skipFeedback }"/>
        </div>         
    </div>
</aura:component>